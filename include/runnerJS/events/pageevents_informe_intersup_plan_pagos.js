
Runner.pages.PageSettings.addPageEvent('informe_intersup_plan_pagos',Runner.pages.constants.PAGE_ADD,"afterPageReady",function(pageObj,proxy,pageid,inlineRow,inlineObject,row){var ctrl=Runner.getControl(pageid,'sysuser');ctrl.makeReadonly();var ctrlfi=Runner.getControl(pageid,'inf_fecharep_i');var ctrlff=Runner.getControl(pageid,'inf_fecharep_f');var ctrldias=Runner.getControl(pageid,'dias_fiscales');function calcularDiferenciaEnDias(){var fechaInicialStr=ctrlfi.getValue();var fechaFinalStr=ctrlff.getValue();if(fechaInicialStr&&fechaFinalStr){var fechaInicial=new Date(fechaInicialStr);var fechaFinal=new Date(fechaFinalStr);var diferenciaEnMilisegundos=fechaFinal-fechaInicial;var diferenciaEnDias=Math.floor(diferenciaEnMilisegundos/(1000*60*60*24)+1);diferenciaEnDias=Math.min(diferenciaEnDias,30);ctrldias.setValue(diferenciaEnDias);}}
ctrlfi.on('change',calcularDiferenciaEnDias);ctrlff.on('change',calcularDiferenciaEnDias);;});Runner.pages.PageSettings.addPageEvent('informe_intersup_plan_pagos',Runner.pages.constants.PAGE_EDIT,"afterPageReady",function(pageObj,proxy,pageid,inlineRow,inlineObject,row){var ctrl=Runner.getControl(pageid,'sysuser');ctrl.makeReadonly();});